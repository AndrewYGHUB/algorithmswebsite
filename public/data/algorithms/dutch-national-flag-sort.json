{
  "slug": "dutch-national-flag-sort",
  "name": "Dutch National Flag Sort",
  "categories": [
    "sorts"
  ],
  "body": {},
  "implementations": {
    "python": {
      "dir": "sorts/dutch_national_flag_sort.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/sorts/dutch_national_flag_sort.py",
      "code": "<span class=\"hljs-string\">&quot;&quot;&quot;\nA pure implementation of Dutch national flag (DNF) sort algorithm in Python.\nDutch National Flag algorithm is an algorithm originally designed by Edsger Dijkstra.\nIt is the most optimal sort for 3 unique values (eg. 0, 1, 2) in a sequence.  DNF can\nsort a sequence of n size with [0 &lt;= a[i] &lt;= 2] at guaranteed O(n) complexity in a\nsingle pass.\n\nThe flag of the Netherlands consists of three colors: white, red, and blue.\nThe task is to randomly arrange balls of white, red, and blue in such a way that balls\nof the same color are placed together.  DNF sorts a sequence of 0, 1, and 2&#x27;s in linear\ntime that does not consume any extra space.  This algorithm can be implemented only on\na sequence that contains three unique elements.\n\n1) Time complexity is O(n).\n2) Space complexity is O(1).\n\nMore info on: https://en.wikipedia.org/wiki/Dutch_national_flag_problem\n\nFor doctests run following command:\npython3 -m doctest -v dutch_national_flag_sort.py\n\nFor manual testing run:\npython dnf_sort.py\n&quot;&quot;&quot;</span>\n\n\n<span class=\"hljs-comment\"># Python program to sort a sequence containing only 0, 1 and 2 in a single pass.</span>\nred = <span class=\"hljs-number\">0</span>  <span class=\"hljs-comment\"># The first color of the flag.</span>\nwhite = <span class=\"hljs-number\">1</span>  <span class=\"hljs-comment\"># The second color of the flag.</span>\nblue = <span class=\"hljs-number\">2</span>  <span class=\"hljs-comment\"># The third color of the flag.</span>\ncolors = (red, white, blue)\n\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">dutch_national_flag_sort</span>(<span class=\"hljs-params\">sequence: <span class=\"hljs-built_in\">list</span></span>) -&gt; <span class=\"hljs-built_in\">list</span>:\n    <span class=\"hljs-string\">&quot;&quot;&quot;\n    A pure Python implementation of Dutch National Flag sort algorithm.\n    :param data: 3 unique integer values (e.g., 0, 1, 2) in an sequence\n    :return: The same collection in ascending order\n\n    &gt;&gt;&gt; dutch_national_flag_sort([])\n    []\n    &gt;&gt;&gt; dutch_national_flag_sort([0])\n    [0]\n    &gt;&gt;&gt; dutch_national_flag_sort([2, 1, 0, 0, 1, 2])\n    [0, 0, 1, 1, 2, 2]\n    &gt;&gt;&gt; dutch_national_flag_sort([0, 1, 1, 0, 1, 2, 1, 2, 0, 0, 0, 1])\n    [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2]\n    &gt;&gt;&gt; dutch_national_flag_sort(&quot;abacab&quot;)\n    Traceback (most recent call last):\n      ...\n    ValueError: The elements inside the sequence must contains only (0, 1, 2) values\n    &gt;&gt;&gt; dutch_national_flag_sort(&quot;Abacab&quot;)\n    Traceback (most recent call last):\n      ...\n    ValueError: The elements inside the sequence must contains only (0, 1, 2) values\n    &gt;&gt;&gt; dutch_national_flag_sort([3, 2, 3, 1, 3, 0, 3])\n    Traceback (most recent call last):\n      ...\n    ValueError: The elements inside the sequence must contains only (0, 1, 2) values\n    &gt;&gt;&gt; dutch_national_flag_sort([-1, 2, -1, 1, -1, 0, -1])\n    Traceback (most recent call last):\n      ...\n    ValueError: The elements inside the sequence must contains only (0, 1, 2) values\n    &gt;&gt;&gt; dutch_national_flag_sort([1.1, 2, 1.1, 1, 1.1, 0, 1.1])\n    Traceback (most recent call last):\n      ...\n    ValueError: The elements inside the sequence must contains only (0, 1, 2) values\n    &quot;&quot;&quot;</span>\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> sequence:\n        <span class=\"hljs-keyword\">return</span> []\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(sequence) == <span class=\"hljs-number\">1</span>:\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">list</span>(sequence)\n    low = <span class=\"hljs-number\">0</span>\n    high = <span class=\"hljs-built_in\">len</span>(sequence) - <span class=\"hljs-number\">1</span>\n    mid = <span class=\"hljs-number\">0</span>\n    <span class=\"hljs-keyword\">while</span> mid &lt;= high:\n        <span class=\"hljs-keyword\">if</span> sequence[mid] == colors[<span class=\"hljs-number\">0</span>]:\n            sequence[low], sequence[mid] = sequence[mid], sequence[low]\n            low += <span class=\"hljs-number\">1</span>\n            mid += <span class=\"hljs-number\">1</span>\n        <span class=\"hljs-keyword\">elif</span> sequence[mid] == colors[<span class=\"hljs-number\">1</span>]:\n            mid += <span class=\"hljs-number\">1</span>\n        <span class=\"hljs-keyword\">elif</span> sequence[mid] == colors[<span class=\"hljs-number\">2</span>]:\n            sequence[mid], sequence[high] = sequence[high], sequence[mid]\n            high -= <span class=\"hljs-number\">1</span>\n        <span class=\"hljs-keyword\">else</span>:\n            <span class=\"hljs-keyword\">raise</span> ValueError(\n                <span class=\"hljs-string\">f&quot;The elements inside the sequence must contains only <span class=\"hljs-subst\">{colors}</span> values&quot;</span>\n            )\n    <span class=\"hljs-keyword\">return</span> sequence\n\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\n    <span class=\"hljs-keyword\">import</span> doctest\n\n    doctest.testmod()\n\n    user_input = <span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&quot;Enter numbers separated by commas:\\n&quot;</span>).strip()\n    unsorted = [<span class=\"hljs-built_in\">int</span>(item.strip()) <span class=\"hljs-keyword\">for</span> item <span class=\"hljs-keyword\">in</span> user_input.split(<span class=\"hljs-string\">&quot;,&quot;</span>)]\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{dutch_national_flag_sort(unsorted)}</span>&quot;</span>)\n"
    },
    "java": {
      "dir": "src/main/java/com/thealgorithms/sorts/DutchNationalFlagSort.java",
      "url": "https://github.com/TheAlgorithms/java/tree/master/src/main/java/com/thealgorithms/sorts/DutchNationalFlagSort.java",
      "code": "<span class=\"hljs-keyword\">package</span> com.thealgorithms.sorts;\n\n<span class=\"hljs-comment\">/**\n * The Dutch National Flag Sort sorts a sequence of values into three permutations which are defined by a value given\n * as the indented middle.\n * First permutation: values less than middle.\n * Second permutation: values equal middle.\n * Third permutation: values greater than middle.\n * If no indented middle is given, this implementation will use a value from the given Array.\n * This value is the one positioned in the arrays&#x27; middle if the arrays&#x27; length is odd.\n * If the arrays&#x27; length is even, the value left to the middle will be used.\n * More information and Pseudocode: https://en.wikipedia.org/wiki/Dutch_national_flag_problem\n */</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">DutchNationalFlagSort</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">SortAlgorithm</span> {\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> &lt;T <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">Comparable</span>&lt;T&gt;&gt; T[] sort(T[] unsorted) {\n        <span class=\"hljs-keyword\">return</span> dutch_national_flag_sort(unsorted, unsorted[(<span class=\"hljs-type\">int</span>) Math.ceil((unsorted.length)/<span class=\"hljs-number\">2.0</span>) -<span class=\"hljs-number\">1</span>]);\n    }\n\n    <span class=\"hljs-keyword\">public</span> &lt;T <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">Comparable</span>&lt;T&gt;&gt; T[] sort(T[] unsorted, T intendedMiddle) {\n        <span class=\"hljs-keyword\">return</span> dutch_national_flag_sort(unsorted, intendedMiddle);\n    }\n\n    <span class=\"hljs-keyword\">private</span> &lt;T <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">Comparable</span>&lt;T&gt;&gt; T[] dutch_national_flag_sort(T[] arr, T intendedMiddle){\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">j</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">k</span> <span class=\"hljs-operator\">=</span> arr.length - <span class=\"hljs-number\">1</span>;\n\n        <span class=\"hljs-keyword\">while</span>( j &lt;= k){\n            <span class=\"hljs-keyword\">if</span> ( <span class=\"hljs-number\">0</span> &gt; arr[j].compareTo(intendedMiddle)){\n                SortUtils.swap(arr, i, j);\n                j++;\n                i++;\n            } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">0</span> &lt; arr[j].compareTo(intendedMiddle)){\n                SortUtils.swap(arr, j, k);\n                k--;\n            } <span class=\"hljs-keyword\">else</span> {\n                j++;\n            }\n        }\n       <span class=\"hljs-keyword\">return</span> arr;\n    }\n}\n"
    }
  },
  "contributors": [
    {
      "name": "BranAndSceolan",
      "email": "98578040+BranAndSceolan@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Kiran Hipparagi",
      "email": "49370990+KiranHipparagi@users.noreply.github.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}