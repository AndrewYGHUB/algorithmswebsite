{
  "slug": "generic-hash-map-using-array",
  "name": "Generic Hash Map Using Array",
  "categories": [
    "datastructures",
    "hashmap",
    "hashing"
  ],
  "body": {},
  "implementations": {
    "java": {
      "dir": "src/main/java/com/thealgorithms/datastructures/hashmap/hashing/GenericHashMapUsingArray.java",
      "url": "https://github.com/TheAlgorithms/java/tree/master/src/main/java/com/thealgorithms/datastructures/hashmap/hashing/GenericHashMapUsingArray.java",
      "code": "<span class=\"hljs-keyword\">package</span> com.thealgorithms.datastructures.hashmap.hashing;\n\n<span class=\"hljs-keyword\">import</span> java.util.LinkedList;\n\n<span class=\"hljs-comment\">// implementation of generic hashmaps using array of Linked Lists</span>\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">GenericHashMapUsingArray</span>&lt;K, V&gt; {\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> size; <span class=\"hljs-comment\">// n (total number of key-value pairs)</span>\n    <span class=\"hljs-keyword\">private</span> LinkedList&lt;Node&gt;[] buckets; <span class=\"hljs-comment\">// N = buckets.length</span>\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">float</span> <span class=\"hljs-variable\">lf</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0.75f</span>;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">GenericHashMapUsingArray</span><span class=\"hljs-params\">()</span> {\n        initBuckets(<span class=\"hljs-number\">16</span>);\n        size = <span class=\"hljs-number\">0</span>;\n    }\n    <span class=\"hljs-comment\">// load factor = 0.75 means if we need to add 100 items and we have added</span>\n    <span class=\"hljs-comment\">// 75, then adding 76th item it will double the size, copy all elements</span>\n    <span class=\"hljs-comment\">// &amp; then add 76th item.</span>\n\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">initBuckets</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> N)</span> {\n        buckets = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LinkedList</span>[N];\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; buckets.length; i++) {\n            buckets[i] = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LinkedList</span>&lt;&gt;();\n        }\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">put</span><span class=\"hljs-params\">(K key, V value)</span> {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">bucketIndex</span> <span class=\"hljs-operator\">=</span> hashFunction(key);\n        LinkedList&lt;Node&gt; nodes = buckets[bucketIndex];\n        <span class=\"hljs-keyword\">for</span> (Node node : nodes) { <span class=\"hljs-comment\">// if key present =&gt; update</span>\n            <span class=\"hljs-keyword\">if</span> (node.key.equals(key)) {\n                node.value = value;\n                <span class=\"hljs-keyword\">return</span>;\n            }\n        }\n\n        <span class=\"hljs-comment\">// key is not present =&gt; insert</span>\n        nodes.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>(key, value));\n        size++;\n\n        <span class=\"hljs-keyword\">if</span> ((<span class=\"hljs-type\">float</span>) size / buckets.length &gt; lf) {\n            reHash();\n        }\n    }\n\n    <span class=\"hljs-comment\">// tells which bucket to go to</span>\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">hashFunction</span><span class=\"hljs-params\">(K key)</span> {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">hc</span> <span class=\"hljs-operator\">=</span> key.hashCode();\n        <span class=\"hljs-keyword\">return</span> Math.abs(hc) % buckets.length;\n    }\n\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">reHash</span><span class=\"hljs-params\">()</span> {\n        System.out.println(<span class=\"hljs-string\">&quot;Rehashing!&quot;</span>);\n        LinkedList&lt;Node&gt;[] old = buckets;\n        initBuckets(old.length * <span class=\"hljs-number\">2</span>);\n        <span class=\"hljs-built_in\">this</span>.size = <span class=\"hljs-number\">0</span>;\n\n        <span class=\"hljs-keyword\">for</span> (LinkedList&lt;Node&gt; nodes : old) {\n            <span class=\"hljs-keyword\">for</span> (Node node : nodes) {\n                put(node.key, node.value);\n            }\n        }\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">remove</span><span class=\"hljs-params\">(K key)</span> {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">bucketIndex</span> <span class=\"hljs-operator\">=</span> hashFunction(key);\n        LinkedList&lt;Node&gt; nodes = buckets[bucketIndex];\n\n        <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">target</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-literal\">null</span>;\n        <span class=\"hljs-keyword\">for</span> (Node node : nodes) {\n            <span class=\"hljs-keyword\">if</span> (node.key.equals(key)) {\n                target = node;\n                <span class=\"hljs-keyword\">break</span>;\n            }\n        }\n        nodes.remove(target);\n        size--;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">size</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">this</span>.size;\n    }\n\n    <span class=\"hljs-keyword\">public</span> V <span class=\"hljs-title function_\">get</span><span class=\"hljs-params\">(K key)</span> {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">bucketIndex</span> <span class=\"hljs-operator\">=</span> hashFunction(key);\n        LinkedList&lt;Node&gt; nodes = buckets[bucketIndex];\n        <span class=\"hljs-keyword\">for</span> (Node node : nodes) {\n            <span class=\"hljs-keyword\">if</span> (node.key.equals(key)) {\n                <span class=\"hljs-keyword\">return</span> node.value;\n            }\n        }\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">toString</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-type\">StringBuilder</span> <span class=\"hljs-variable\">builder</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">StringBuilder</span>();\n\n        builder.append(<span class=\"hljs-string\">&quot;{&quot;</span>);\n        <span class=\"hljs-keyword\">for</span> (LinkedList&lt;Node&gt; nodes : buckets) {\n            <span class=\"hljs-keyword\">for</span> (Node node : nodes) {\n                builder.append(node.key);\n                builder.append(<span class=\"hljs-string\">&quot; : &quot;</span>);\n                builder.append(node.value);\n                builder.append(<span class=\"hljs-string\">&quot;, &quot;</span>);\n            }\n        }\n        builder.append(<span class=\"hljs-string\">&quot;}&quot;</span>);\n        <span class=\"hljs-keyword\">return</span> builder.toString();\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">containsKey</span><span class=\"hljs-params\">(K key)</span> {\n        <span class=\"hljs-keyword\">return</span> get(key) != <span class=\"hljs-literal\">null</span>;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Node</span> {\n        K key;\n        V value;\n\n        <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Node</span><span class=\"hljs-params\">(K key, V value)</span> {\n            <span class=\"hljs-built_in\">this</span>.key = key;\n            <span class=\"hljs-built_in\">this</span>.value = value;\n        }\n    }\n}\n"
    }
  },
  "contributors": [
    {
      "name": "Divya Raichura",
      "email": "92081543+divya-raichura@users.noreply.github.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}