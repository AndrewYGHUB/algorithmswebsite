{
  "slug": "lower-bound",
  "name": "Lower Bound",
  "categories": [
    "searches"
  ],
  "body": {},
  "implementations": {
    "java": {
      "dir": "src/main/java/com/thealgorithms/searches/LowerBound.java",
      "url": "https://github.com/TheAlgorithms/java/tree/master/src/main/java/com/thealgorithms/searches/LowerBound.java",
      "code": "<span class=\"hljs-keyword\">package</span> com.thealgorithms.searches;\n\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-keyword\">static</span> java.lang.String.format;\n\n<span class=\"hljs-keyword\">import</span> java.util.Random;\n<span class=\"hljs-keyword\">import</span> java.util.concurrent.ThreadLocalRandom;\n<span class=\"hljs-keyword\">import</span> java.util.stream.IntStream;\n<span class=\"hljs-keyword\">import</span> com.thealgorithms.devutils.searches.SearchAlgorithm;\n\n<span class=\"hljs-comment\">/**\n * The LowerBound method is used to return an index pointing to the first\n * element in the range [first, last) which has a value not less than val, i.e.\n * the index of the next smallest number just greater than or equal to that\n * number. If there are multiple values that are equal to val it returns the\n * index of the first such value.\n *\n * &lt;p&gt;\n * This is an extension of BinarySearch.\n *\n * &lt;p&gt;\n * Worst-case performance O(log n) Best-case performance O(1) Average\n * performance O(log n) Worst-case space complexity O(1)\n *\n * <span class=\"hljs-doctag\">@author</span> Pratik Padalia (https://github.com/15pratik)\n * <span class=\"hljs-doctag\">@see</span> SearchAlgorithm\n * <span class=\"hljs-doctag\">@see</span> BinarySearch\n */</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">LowerBound</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">SearchAlgorithm</span> {\n\n    <span class=\"hljs-comment\">// Driver Program</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        <span class=\"hljs-comment\">// Just generate data</span>\n        <span class=\"hljs-type\">Random</span> <span class=\"hljs-variable\">r</span> <span class=\"hljs-operator\">=</span> ThreadLocalRandom.current();\n\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">size</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">100</span>;\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">maxElement</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">100000</span>;\n\n        Integer[] integers\n                = IntStream.generate(() -&gt; r.nextInt(maxElement))\n                        .limit(size)\n                        .sorted()\n                        .boxed()\n                        .toArray(Integer[]::<span class=\"hljs-keyword\">new</span>);\n\n        <span class=\"hljs-comment\">// The element for which the lower bound is to be found</span>\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">val</span> <span class=\"hljs-operator\">=</span> integers[r.nextInt(size - <span class=\"hljs-number\">1</span>)] + <span class=\"hljs-number\">1</span>;\n\n        <span class=\"hljs-type\">LowerBound</span> <span class=\"hljs-variable\">search</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LowerBound</span>();\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">atIndex</span> <span class=\"hljs-operator\">=</span> search.find(integers, val);\n\n        System.out.println(\n                format(\n                        <span class=\"hljs-string\">&quot;Val: %d. Lower Bound Found %d at index %d. An array length %d&quot;</span>,\n                        val, integers[atIndex], atIndex, size));\n\n        <span class=\"hljs-type\">boolean</span> <span class=\"hljs-variable\">toCheck</span> <span class=\"hljs-operator\">=</span> integers[atIndex] &gt;= val || integers[size - <span class=\"hljs-number\">1</span>] &lt; val;\n        System.out.println(\n                format(\n                        <span class=\"hljs-string\">&quot;Lower Bound found at an index: %d. Is greater or max element: %b&quot;</span>, atIndex, toCheck));\n    }\n\n    <span class=\"hljs-comment\">/**\n     * <span class=\"hljs-doctag\">@param</span> array is an array where the LowerBound value is to be found\n     * <span class=\"hljs-doctag\">@param</span> key is an element for which the LowerBound is to be found\n     * <span class=\"hljs-doctag\">@param</span> &lt;T&gt; is any comparable type\n     * <span class=\"hljs-doctag\">@return</span> index of the LowerBound element\n     */</span>\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> &lt;T <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">Comparable</span>&lt;T&gt;&gt; <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">find</span><span class=\"hljs-params\">(T[] array, T key)</span> {\n        <span class=\"hljs-keyword\">return</span> search(array, key, <span class=\"hljs-number\">0</span>, array.length - <span class=\"hljs-number\">1</span>);\n    }\n\n    <span class=\"hljs-comment\">/**\n     * This method implements the Generic Binary Search\n     *\n     * <span class=\"hljs-doctag\">@param</span> array The array to make the binary search\n     * <span class=\"hljs-doctag\">@param</span> key The number you are looking for\n     * <span class=\"hljs-doctag\">@param</span> left The lower bound\n     * <span class=\"hljs-doctag\">@param</span> right The upper bound\n     * <span class=\"hljs-doctag\">@return</span> the location of the key\n     */</span>\n    <span class=\"hljs-keyword\">private</span> &lt;T <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">Comparable</span>&lt;T&gt;&gt; <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">search</span><span class=\"hljs-params\">(T[] array, T key, <span class=\"hljs-type\">int</span> left, <span class=\"hljs-type\">int</span> right)</span> {\n        <span class=\"hljs-keyword\">if</span> (right &lt;= left) {\n            <span class=\"hljs-keyword\">return</span> left;\n        }\n\n        <span class=\"hljs-comment\">// find median</span>\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">median</span> <span class=\"hljs-operator\">=</span> (left + right) &gt;&gt;&gt; <span class=\"hljs-number\">1</span>;\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">comp</span> <span class=\"hljs-operator\">=</span> key.compareTo(array[median]);\n\n        <span class=\"hljs-keyword\">if</span> (comp == <span class=\"hljs-number\">0</span>) {\n            <span class=\"hljs-keyword\">return</span> median;\n        } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (comp &lt; <span class=\"hljs-number\">0</span>) {\n            <span class=\"hljs-comment\">// median position can be a possible solution</span>\n            <span class=\"hljs-keyword\">return</span> search(array, key, left, median);\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-comment\">// key we are looking is greater, so we must look on the right of median position</span>\n            <span class=\"hljs-keyword\">return</span> search(array, key, median + <span class=\"hljs-number\">1</span>, right);\n        }\n    }\n}\n"
    },
    "php": {
      "dir": "searches/lower_bound.php",
      "url": "https://github.com/TheAlgorithms/php/tree/master/searches/lower_bound.php",
      "code": "<span class=\"hljs-meta\">&lt;?php</span>\n\n<span class=\"hljs-comment\">/**\n * <span class=\"hljs-doctag\">@param</span> an array of integers\n * <span class=\"hljs-doctag\">@return</span> is array sorted in ascending\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">array_check</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">array</span> <span class=\"hljs-variable\">$arr</span></span>): <span class=\"hljs-title\">void</span></span>{\n    <span class=\"hljs-variable\">$len</span> = <span class=\"hljs-title function_ invoke__\">count</span>(<span class=\"hljs-variable\">$arr</span>);\n    <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-variable\">$len</span> == <span class=\"hljs-number\">0</span>){\n        <span class=\"hljs-keyword\">return</span>;\n    }\n    <span class=\"hljs-keyword\">if</span>(!<span class=\"hljs-title function_ invoke__\">is_int</span>(<span class=\"hljs-variable\">$arr</span>[<span class=\"hljs-number\">0</span>])){\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-built_in\">UnexpectedValueException</span>;\n    }\n    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-variable\">$i</span> = <span class=\"hljs-number\">1</span>; <span class=\"hljs-variable\">$i</span> &lt; <span class=\"hljs-variable\">$len</span>; <span class=\"hljs-variable\">$i</span>++){\n        <span class=\"hljs-comment\">// a sorted array is expected</span>\n        <span class=\"hljs-keyword\">if</span>(!<span class=\"hljs-title function_ invoke__\">is_int</span>(<span class=\"hljs-variable\">$arr</span>[<span class=\"hljs-variable\">$i</span>]) &amp;&amp; <span class=\"hljs-variable\">$arr</span>[<span class=\"hljs-variable\">$i</span>] &lt; <span class=\"hljs-variable\">$arr</span>[<span class=\"hljs-variable\">$i</span>-<span class=\"hljs-number\">1</span>]){\n           <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-built_in\">UnexpectedValueException</span>;\n        }\n    }\n}\n\n\n<span class=\"hljs-comment\">/**\n * Lower Bound of an element is minimum index that an element would be placed \n * if it is added into that sorted array\n * \n * [C++ Lower Bound](http://www.cplusplus.com/reference/algorithm/lower_bound/)\n * \n * It is assumed that an integer array is provided\n * and the second parameter is also a integer\n * \n * <span class=\"hljs-doctag\">@param</span> array of integers\n * <span class=\"hljs-doctag\">@param</span> integer whose lower bound is to be found\n * \n * <span class=\"hljs-doctag\">@return</span> the index of lower bound of the given element\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">lower_bound</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">array</span> <span class=\"hljs-variable\">$arr</span>, <span class=\"hljs-keyword\">int</span> <span class=\"hljs-variable\">$elem</span></span>)</span>{\n    <span class=\"hljs-comment\">// array must be sorted</span>\n    <span class=\"hljs-comment\">// and all elemets must be integers</span>\n    <span class=\"hljs-title function_ invoke__\">array_check</span>(<span class=\"hljs-variable\">$arr</span>);\n    <span class=\"hljs-variable\">$hi</span> = <span class=\"hljs-title function_ invoke__\">count</span>(<span class=\"hljs-variable\">$arr</span>);\n    <span class=\"hljs-variable\">$lo</span> = <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">while</span>(<span class=\"hljs-variable\">$lo</span> &lt; <span class=\"hljs-variable\">$hi</span>){\n        <span class=\"hljs-variable\">$mid</span> = <span class=\"hljs-variable\">$lo</span> + <span class=\"hljs-title function_ invoke__\">floor</span>((<span class=\"hljs-variable\">$hi</span> - <span class=\"hljs-variable\">$lo</span>)/<span class=\"hljs-number\">2</span>);\n        <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-variable\">$arr</span>[<span class=\"hljs-variable\">$mid</span>] &lt; <span class=\"hljs-variable\">$elem</span>){\n            <span class=\"hljs-variable\">$lo</span> = <span class=\"hljs-variable\">$mid</span>+<span class=\"hljs-number\">1</span>;\n        }<span class=\"hljs-keyword\">else</span>{\n            <span class=\"hljs-variable\">$hi</span> = <span class=\"hljs-variable\">$mid</span>;\n        }\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$lo</span>;\n}\n\n<span class=\"hljs-comment\">// test code</span>\n<span class=\"hljs-variable\">$arr</span> = <span class=\"hljs-keyword\">array</span>(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>);\n<span class=\"hljs-variable\">$i</span> = <span class=\"hljs-title function_ invoke__\">lower_bound</span>(<span class=\"hljs-variable\">$arr</span>, <span class=\"hljs-number\">3</span>);\n<span class=\"hljs-keyword\">print</span> <span class=\"hljs-variable\">$i</span>;"
    }
  },
  "contributors": [
    {
      "name": "lakhan_nad",
      "email": "lakhannad1999@gmail.com",
      "commits": 1
    },
    {
      "name": "Pratik Padalia",
      "email": "pratikpadalia7@gmail.com",
      "commits": 1
    },
    {
      "name": "Aitor Fidalgo SÃ¡nchez",
      "email": "64830228+aitorfi@users.noreply.github.com",
      "commits": 2
    }
  ],
  "explanationUrl": {}
}