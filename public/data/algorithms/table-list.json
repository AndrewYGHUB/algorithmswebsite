{
  "slug": "table-list",
  "name": "Table List",
  "categories": [
    "datastructures"
  ],
  "body": {},
  "implementations": {
    "lua": {
      "dir": "src/data_structures/table_list.lua",
      "url": "https://github.com/TheAlgorithms/lua/tree/master/src/data_structures/table_list.lua",
      "code": "<span class=\"hljs-comment\">-- Table based list, can handle up to 2^52 elements</span>\n<span class=\"hljs-comment\">-- See https://www.lua.org/pil/11.4.html</span>\n\n<span class=\"hljs-keyword\">local</span> list = {}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list.new</span><span class=\"hljs-params\">(\n\tself <span class=\"hljs-comment\">-- a list (table) using integer keys</span>\n)</span></span>\n\t<span class=\"hljs-built_in\">self</span>._head_index = <span class=\"hljs-number\">0</span> <span class=\"hljs-comment\">-- zero-based head index simplifies one-based list indices</span>\n\t<span class=\"hljs-built_in\">self</span>._length = #<span class=\"hljs-built_in\">self</span>\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">self</span>\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:len</span><span class=\"hljs-params\">()</span></span>\n\t<span class=\"hljs-comment\">-- list length</span>\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">self</span>._length\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:in_bounds</span><span class=\"hljs-params\">(index)</span></span>\n\t<span class=\"hljs-comment\">-- boolean whether the index is in list bounds</span>\n\t<span class=\"hljs-keyword\">return</span> index &gt;= <span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> index &lt;= <span class=\"hljs-built_in\">self</span>:<span class=\"hljs-built_in\">len</span>()\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:get</span><span class=\"hljs-params\">(\n\tindex <span class=\"hljs-comment\">-- index from 1 (head) to length (tail)</span>\n)</span></span>\n\t<span class=\"hljs-built_in\">assert</span>(<span class=\"hljs-built_in\">self</span>:in_bounds(index))\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">self</span>[<span class=\"hljs-built_in\">self</span>._head_index + index]\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:set</span><span class=\"hljs-params\">(\n\t<span class=\"hljs-comment\">-- index from 1 (head) to length (tail)</span>\n\tindex,\n\t<span class=\"hljs-comment\">-- value to set</span>\n\tvalue\n)</span></span>\n\t<span class=\"hljs-built_in\">assert</span>(<span class=\"hljs-built_in\">self</span>:in_bounds(index) <span class=\"hljs-keyword\">and</span> value ~= <span class=\"hljs-literal\">nil</span>)\n\t<span class=\"hljs-built_in\">self</span>[<span class=\"hljs-built_in\">self</span>._head_index + index] = value\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:ipairs</span><span class=\"hljs-params\">()</span></span>\n\t<span class=\"hljs-keyword\">local</span> index = <span class=\"hljs-number\">0</span>\n\t<span class=\"hljs-comment\">-- iterator -&gt; index, value</span>\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">()</span></span>\n\t\tindex = index + <span class=\"hljs-number\">1</span>\n\t\t<span class=\"hljs-keyword\">if</span> index &gt; <span class=\"hljs-built_in\">self</span>._length <span class=\"hljs-keyword\">then</span>\n\t\t\t<span class=\"hljs-keyword\">return</span>\n\t\t<span class=\"hljs-keyword\">end</span>\n\t\t<span class=\"hljs-keyword\">return</span> index, <span class=\"hljs-built_in\">self</span>[<span class=\"hljs-built_in\">self</span>._head_index + index]\n\t<span class=\"hljs-keyword\">end</span>\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:rpairs</span><span class=\"hljs-params\">()</span></span>\n\t<span class=\"hljs-keyword\">local</span> index = <span class=\"hljs-built_in\">self</span>._length + <span class=\"hljs-number\">1</span>\n\t<span class=\"hljs-comment\">-- reverse iterator (starting at tail) -&gt; index, value</span>\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">()</span></span>\n\t\tindex = index - <span class=\"hljs-number\">1</span>\n\t\t<span class=\"hljs-keyword\">if</span> index &lt; <span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">then</span>\n\t\t\t<span class=\"hljs-keyword\">return</span>\n\t\t<span class=\"hljs-keyword\">end</span>\n\t\t<span class=\"hljs-keyword\">return</span> index, <span class=\"hljs-built_in\">self</span>[<span class=\"hljs-built_in\">self</span>._head_index + index]\n\t<span class=\"hljs-keyword\">end</span>\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:push_tail</span><span class=\"hljs-params\">(value)</span></span>\n\t<span class=\"hljs-built_in\">assert</span>(value ~= <span class=\"hljs-literal\">nil</span>)\n\t<span class=\"hljs-built_in\">self</span>._length = <span class=\"hljs-built_in\">self</span>._length + <span class=\"hljs-number\">1</span>\n\t<span class=\"hljs-built_in\">self</span>[<span class=\"hljs-built_in\">self</span>._head_index + <span class=\"hljs-built_in\">self</span>._length] = value\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:get_tail</span><span class=\"hljs-params\">()</span></span>\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">self</span>[<span class=\"hljs-built_in\">self</span>._head_index + <span class=\"hljs-built_in\">self</span>._length]\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:pop_tail</span><span class=\"hljs-params\">()</span></span>\n\t<span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">self</span>._length == <span class=\"hljs-number\">0</span> <span class=\"hljs-keyword\">then</span>\n\t\t<span class=\"hljs-keyword\">return</span>\n\t<span class=\"hljs-keyword\">end</span>\n\t<span class=\"hljs-keyword\">local</span> value = <span class=\"hljs-built_in\">self</span>:get_tail()\n\t<span class=\"hljs-built_in\">self</span>[<span class=\"hljs-built_in\">self</span>._head_index + <span class=\"hljs-built_in\">self</span>._length] = <span class=\"hljs-literal\">nil</span>\n\t<span class=\"hljs-built_in\">self</span>._length = <span class=\"hljs-built_in\">self</span>._length - <span class=\"hljs-number\">1</span>\n\t<span class=\"hljs-keyword\">return</span> value\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:push_head</span><span class=\"hljs-params\">(value)</span></span>\n\t<span class=\"hljs-built_in\">self</span>[<span class=\"hljs-built_in\">self</span>._head_index] = value\n\t<span class=\"hljs-built_in\">self</span>._head_index = <span class=\"hljs-built_in\">self</span>._head_index - <span class=\"hljs-number\">1</span>\n\t<span class=\"hljs-built_in\">self</span>._length = <span class=\"hljs-built_in\">self</span>._length + <span class=\"hljs-number\">1</span>\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:get_head</span><span class=\"hljs-params\">()</span></span>\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">self</span>[<span class=\"hljs-built_in\">self</span>._head_index + <span class=\"hljs-number\">1</span>]\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">list:pop_head</span><span class=\"hljs-params\">()</span></span>\n\t<span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">self</span>._length == <span class=\"hljs-number\">0</span> <span class=\"hljs-keyword\">then</span>\n\t\t<span class=\"hljs-keyword\">return</span>\n\t<span class=\"hljs-keyword\">end</span>\n\t<span class=\"hljs-keyword\">local</span> value = <span class=\"hljs-built_in\">self</span>:get_head()\n\t<span class=\"hljs-built_in\">self</span>._head_index = <span class=\"hljs-built_in\">self</span>._head_index + <span class=\"hljs-number\">1</span>\n\t<span class=\"hljs-built_in\">self</span>._length = <span class=\"hljs-built_in\">self</span>._length - <span class=\"hljs-number\">1</span>\n\t<span class=\"hljs-built_in\">self</span>[<span class=\"hljs-built_in\">self</span>._head_index] = <span class=\"hljs-literal\">nil</span>\n\t<span class=\"hljs-keyword\">return</span> value\n<span class=\"hljs-keyword\">end</span>\n\n<span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;class&quot;</span>)(list)\n"
    }
  },
  "contributors": [
    {
      "name": "Lars Mueller",
      "email": "appgurulars@gmx.de",
      "commits": 2
    }
  ],
  "explanationUrl": {}
}